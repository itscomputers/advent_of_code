import gleam/int
import gleeunit
import gleeunit/should

import args.{PartOne, PartTwo}
import year2024/day15

const ex1 = "##########
#..O..O.O#
#......O.#
#.OO..O.O#
#..O@..O.#
#O#..O...#
#O..O..O.#
#.OO.O.OO#
#....O...#
##########

<vv>^<v^>v>^vv^v>v<>v^v<v<^vv<<<^><<><>>v<vvv<>^v^>^<<<><<v<<<v^vv^v>^
vvv<<^>^v^^><<>>><>^<<><^vv^^<>vvv<>><^^v>^>vv<>v<<<<v<^v>^<^^>>>^<v<v
><>vv>v^v^<>><>>>><^^>vv>v<^^^>>v^v^<^^>v^^>v^<^v>v<>>v^v^<v>v^^<^^vv<
<<v<^>>^^^^>>>v^<>vvv^><v<<<>^^^vv^<vvv>^>v<^^^^v<>^>vvvv><>>v^<<^^^^^
^><^><>>><>^^<<^^v>>><^<v>^<vv>>v>>>^v><>^v><<<<v>>v<v<v>vvv>^<><<>^><
^>><>^v<><^vvv<^^<><v<<<<<><^v<<<><<<^^<v<^^^><^>>^<v^><<<^>>^v<v^v<v^
>^>>^v>vv>^<<^v<>><<><<v<<v><>v<^vv<<<>^^v^>^^>>><<^v>>v^v><^^>>^<>vv^
<><^^>^^^<><vvvvv^v<v<<>^v<v>v<<^><<><<><<<^^<<<^<<>><<><^^^>^^<>^>v<>
^^>vv<^v^v<vv>^<><v<^v>^^^>>>^^vvv^>vvv<>>>^<^>>>>>^<<^v>^vvv<>^<><<v>
v^^>>><<^^<>>^v^<v^vv<>v^<<>^<^v^v><^<<<><<^<v><v<>vv>>v><v^<vv<>v^<<^"

const ex2 = "########
#..O.O.#
##@.O..#
#...O..#
#.#.O..#
#...O..#
#......#
########

<^^>>>vv<v>>v<<"

const ex3 = "#######
#...#.#
#.....#
#..OO@#
#..O..#
#.....#
#######

<vv<<^^<<^^"

const ex4 = "#######
#..#..#
#...O.#
#@OO..#
#.OOO.#
#.....#
#######

>><vv>>>^>>^>^<v<<<v<^"

const ex5 = "##########
##...#..##
#.O.OO@O.#
#.O.O..O.#
#........#
#....OO.##
#........#
##.OO....#
#........#
#.O.O..O.#
#.O.OO.O.#
##...#..##
##########

<>>><vv>^>^<<<<<<^<^<<^^<>vv<^<^v>>>>
>>>>vv<<<<v<<vv<>^^>>>>>>vv<>>><^^>v>
v<<<<<<v<v<<<v<v"

// ####################
// ####......##....####
// ##..[]..[][]@.[]..##
// ##..[]..[]....[]..##
// ##................##
// ##........[][]..####
// ##................##
// ####..[][]........##
// ##................##
// ##..[]..[]....[]..##
// ##..[]..[][]..[]..##
// ####......##....####
// ####################
// <>>><vv>^>^<<<<<<^<^<<^^<>vv<^<^v>>>>
// >>>>vv<<<<v<<vv<>^^>>>>>>vv<>>><^^>v>
// v<<<<<<v<v<<<v<v
// ####################
// ####......##....####
// ##.[]..[][]....[].##  // 203 + 207 + 209 + 215
// ##..[]..[]....[]..##  // 304 + 308 + 314
// ##................##
// ##..........[][]####  // 512 + 514
// ##................##
// ####[][]..........##  // 704 + 706
// ##..@.............##
// ##..[]..[]....[]..##  // 904 + 908 + 914
// ##.[]..[][]....[].##  // 1003 + 1007 + 1009 + 1015
// ####......##....####
// ####################

pub fn main() {
  gleeunit.main()
}

pub fn part_one_1_test() {
  ex1 |> day15.main(PartOne) |> should.equal("10092")
}

pub fn part_one_2_test() {
  ex2 |> day15.main(PartOne) |> should.equal("2028")
}

pub fn part_two_1_test() {
  ex1 |> day15.main(PartTwo) |> should.equal("9021")
}

pub fn part_two_3_test() {
  ex3 |> day15.main(PartTwo) |> should.equal("618")
}

pub fn part_two_4_test() {
  ex4 |> day15.main(PartTwo) |> should.equal("1534")
}

pub fn part_two_5_test() {
  ex5
  |> day15.main(PartTwo)
  |> should.equal(
    {
      203
      + 207
      + 209
      + 215
      + 304
      + 308
      + 314
      + 512
      + 514
      + 704
      + 706
      + 904
      + 908
      + 914
      + 1003
      + 1007
      + 1009
      + 1015
    }
    |> int.to_string,
  )
}
